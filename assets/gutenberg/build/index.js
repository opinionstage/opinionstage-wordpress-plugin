!function(t){var e={};function i(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=4)}([function(t,e){!function(){t.exports=this.wp.element}()},function(t,e){!function(){t.exports=this.wp.i18n}()},function(t,e){!function(){t.exports=this.wp.blocks}()},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var r=i(2),s=i(1),o=i(0);i(3),jQuery;function a(t){t.name;var e=t.className,i=t.attributes,r=t.setAttributes,s=i.embedUrl,a=(i.lockEmbed,i.buttonText),n=i.insertItemImage,l=i.insertItemOsTitle,c=i.insertItemOsView,u=i.insertItemOsEdit,b=i.insertItemOsStatistics;if("false"===OPINIONSTAGE_GUTENBERG_DATA.userLoggedIn)return Object(o.createElement)("div",{className:e},Object(o.createElement)("div",{class:"os-poll-wrapper components-placeholder"},Object(o.createElement)("p",{class:"components-heading"},Object(o.createElement)("img",{src:OPINIONSTAGE_GUTENBERG_DATA.brandLogoUrl,alt:""})),Object(o.createElement)("p",{class:"components-heading"},"Please connect WordPress to Opinion Stage to start adding polls"),Object(o.createElement)("a",{href:OPINIONSTAGE_GUTENBERG_DATA.loginPageUrl,class:"components-button is-button is-default is-block is-primary"},"Connect")));var p=function(t){r({lockEmbed:!0,buttonText:"Change",embedUrl:t.landingPageUrl.replace(/^https?:\/\/[^/]+\//,"/"),insertItemImage:t.imageUrl,insertItemOsTitle:t.title,insertItemOsView:t.landingPageUrl,insertItemOsEdit:t.editUrl,insertItemOsStatistics:t.statsUrl})},d=OPINIONSTAGE_GUTENBERG_DATA.createNewWidgetUrl+"&w_type=poll",m=Object(o.createElement)("div",{class:"os-poll-wrapper components-placeholder"},Object(o.createElement)("p",{class:"components-heading"},Object(o.createElement)("img",{src:OPINIONSTAGE_GUTENBERG_DATA.brandLogoUrl,alt:""})),Object(o.createElement)("button",{class:"components-button is-button is-default is-block is-primary",onClick:function(t){OpinionStage.contentPopup.open({onWidgetSelect:p})}},"Select a Poll"),Object(o.createElement)("a",{href:d,target:"_blank",class:"components-button is-button is-default is-block is-primary"},"Create a New Poll"));return s&&""!==s?"Change"===a&&(m=Object(o.createElement)("div",{class:"os-poll-wrapper components-placeholder"},Object(o.createElement)("p",{class:"components-heading"},Object(o.createElement)("img",{src:OPINIONSTAGE_GUTENBERG_DATA.brandLogoUrl,alt:""})),Object(o.createElement)("div",{class:"components-preview__block"},Object(o.createElement)("div",{class:"components-preview__leftBlockImage"},Object(o.createElement)("img",{src:n,alt:l,class:"image"}),Object(o.createElement)("div",{class:"overlay"},Object(o.createElement)("div",{class:"text"},Object(o.createElement)("a",{href:c,target:"_blank"}," View "),Object(o.createElement)("a",{href:u,target:"_blank"}," Edit "),Object(o.createElement)("a",{href:b,target:"_blank"}," Statistics "),Object(o.createElement)("input",{type:"button",value:a,class:"components-button is-button is-default is-large left-align",onClick:function(t){OpinionStage.contentPopup.open({onWidgetSelect:function(t){r({embedUrl:"",buttonText:"Embed",lockEmbed:!1,insertItemImage:!1,insertItemOsTitle:!1,insertItemOsView:!1,insertItemOsEdit:!1,insertItemOsStatistics:!1}),p(t)}})}})))),Object(o.createElement)("div",{class:"components-preview__rightBlockContent"},Object(o.createElement)("div",{class:"components-placeholder__label"},"Poll: ",l))))):r({buttonText:"Embed"}),Object(o.createElement)("div",{className:e},m)}function n(t){var e=t.attributes,i=e.embedUrl,r=e.lockEmbed,s=e.buttonText,a=e.insertItemImage,n=e.insertItemOsTitle,l=e.insertItemOsView,c=e.insertItemOsEdit,u=e.insertItemOsStatistics;return Object(o.createElement)("div",{class:"os-poll-wrapper","data-type":"poll","data-image-url":a,"data-title-url":n,"data-view-url":l,"data-statistics-url":u,"data-edit-url":c,"data-test-url":i,"data-lock-embed":r,"data-button-text":s},'[os-widget path="',i,'"]',Object(o.createElement)("span",null))}var l={embedUrl:{source:"attribute",attribute:"data-test-url",selector:"div[data-test-url]"},lockEmbed:{source:"attribute",attribute:"data-lock-embed",selector:"div[data-lock-embed]"},buttonText:{source:"attribute",attribute:"data-button-text",selector:"div[data-button-text]"},insertItemImage:{source:"attribute",attribute:"data-image-url",selector:"div[data-image-url]"},insertItemOsTitle:{source:"attribute",attribute:"data-title-url",selector:"div[data-title-url]"},insertItemOsView:{source:"attribute",attribute:"data-view-url",selector:"div[data-view-url]"},insertItemOsEdit:{source:"attribute",attribute:"data-edit-url",selector:"div[data-edit-url]"},insertItemOsStatistics:{source:"attribute",attribute:"data-statistics-url",selector:"div[data-statistics-url]"}},c="opinion-stage",u={html:!1};Object(r.registerBlockType)("opinion-stage/block-os-poll",{title:Object(s.__)("Poll","social-polls-by-opinionstage"),icon:"chart-bar",description:Object(s.__)("Embed an Opinion Stage poll","social-polls-by-opinionstage"),category:c,keywords:[Object(s.__)("poll","social-polls-by-opinionstage"),Object(s.__)("social poll","social-polls-by-opinionstage")],supports:u,attributes:l,edit:a,save:n}),Object(r.registerBlockType)("opinion-stage/survey",{title:Object(s.__)("!Survey","survey"),icon:"smiley",description:Object(s.__)("monkey ololo","survey-description"),category:c,supports:u,attributes:l,edit:a,save:n}),Object(r.registerBlockType)("opinion-stage/block-os-trivia",{title:Object(s.__)("!Trivia Quiz"),icon:"yes",description:Object(s.__)("this is poll","poll-description"),category:c,supports:u,attributes:l,edit:a,save:n}),Object(r.registerBlockType)("opinion-stage/block-os-personality",{title:Object(s.__)("!Personality Quiz"),icon:"smiley",description:Object(s.__)("this is poll","poll-description"),category:c,supports:u,attributes:l,edit:a,save:n}),Object(r.registerBlockType)("opinion-stage/form",{title:Object(s.__)("!Form"),icon:"editor-justify",description:Object(s.__)("this is poll","poll-description"),category:c,supports:u,attributes:l,edit:a,save:n}),Object(r.registerBlockType)("opinion-stage/slideshow",{title:Object(s.__)("Slideshow"),icon:"playlist-video",description:Object(s.__)("this is poll","poll-description"),category:c,supports:u,attributes:l,edit:a,save:n})}]);